
## データベース
　データベースとは、**データモデル**に従って複数種類・大量のデータを集中的に**整理・蓄積・処理**できるしくみのことである。

　コンピュータの中で、データベースを実現し、管理するためのソフトウェアを**データベース管理システム（DBMS）** という。
DBMSには、PostgreSQLやMySQL、H2などがある。

　データベースは、管理するデータに対して様々な機能を提供する。
* 独立性
* 完全性
* 保全性
* 安全性
* 同時利用


![データベース利用の流れ　完成版](https://github.com/b2211700/prmn2023/assets/109058900/6c589bbe-3578-4346-aeae-d99b70a94ae4)

　データベースにデータの記録や処理を要求するには**クエリ**を送信する。データベースはこれを**パーサ**で解析し、**オプティマイザ**で最適化して命令化する。
特に記録命令の場合は、データの整合性を保つために、記録内容や順番といった履歴を**ジャーナルファイル**に記録する。


### 独立性
　データを管理するデータベースがデータを利用するソフトウェア（プログラム）から独立して分離することで片方の変更の影響をもう片方に与えない（もしくは少なくする）。

### 完全性（整合性）
　記録されるデータの不整合や欠損を防ぎ、完全なデータを利用できるようにする。

### 保全性
　ユーザやプログラムによる操作ミスや、データベース管理システム自体の障害によるデータの破損や異常変更を防ぐ。


### 安全性
　あらかじめ決められた役割や権限を越えて不正にアクセスされることを防ぐ。

### 同時利用
　複数の利用者やプログラムがデータを共有し、同時に記録や利用を行える。
 


## データモデル
　データモデルは、データベースの設計段階にあわせてデータを管理・利用する目的に必要なルールや項目を人間が表現したものや、その枠組みである。
1. 概念データモデル　
2. 論理データモデル
3. 物理データモデル

特に2.論理データモデルについて、あるデータを「関係がある複数の項目の集合」で表すものを**関係モデル**とよぶ。

### データモデル設計の手順
概念データモデルの設計　目的を達成するために利用するデータを集める

↓

論理データモデルの設計　概念データモデルのためのデータの枠組みを定める

↓

物理データモデルの設計　論理データモデルのための構造を定める

↓

DBMSへの反映と利用　物理データの内容を使ってDBMSにスキーマを作成・反映する




## スキーマ
　スキーマは、データモデルにあわせて実際にデータを管理・利用できるようにするための形式や仕組みをデータベースが実現するための機械的な枠組みである。

1. 概念スキーマ
2. 内部スキーマ
3. 外部スキーマ

### 概念スキーマ
DBMSの中で実際にデータが記録される方法や設定内容を定める仕組み

物理データモデルをもとにDBMS内にデータ記録するための仕組み。
論理データモデルにあわせた論理的なデータ管理方法や手段のためのもの

### 内部スキーマ
DBMSの中でデータモデルと同じ形式でデータ構造を再現する仕組み

論理データモデルと同一の形式がDBMSの中に再現されるための仕組み。概念スキーマを実現するためのデータの記録方法や手段のためのもの

### 外部スキーマ
ユーザやプログラムが必要な形でデータを利用できるようにする仕組み

利用目的に必要なデータがDBMSから取り出されるための仕組み。概念スキーマを使った利用者のデータの利用方法や手段のためのもの





